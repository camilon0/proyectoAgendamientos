(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(154)}])},154:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var a=i(4848),r=i(6540),n=i(52),l=i(1374),s=i(4637),d=i(7595),c=i(8799),o=i(3369),u=i(7349),v=i(1100),h=i(4335);let A={baseURL:"https://lspz6suqyi.execute-api.us-east-1.amazonaws.com/dev",listActivities:"/activities",createActivity:"/activities",editActivity:e=>"/activities/".concat(e),deleteActivity:e=>"/activities/".concat(e)},x=h.A.create({baseURL:A.baseURL,headers:{"Content-Type":"application/json"}});x.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.message),Promise.reject(e)));let m=async()=>(await x.get(A.listActivities)).data,p=async e=>(await x.post(A.createActivity,e)).data,y=async(e,t)=>(await x.put(A.editActivity(e),t)).data,j=async e=>{await x.delete(A.deleteActivity(e))},g=()=>{let[e,t]=(0,r.useState)([]),[i,h]=(0,r.useState)(null),[A,x]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[f,w]=(0,r.useState)(""),[C,E]=(0,r.useState)(""),[_,k]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{let e=await m();t(e)}catch(e){console.error("Error loading activities:",e.message),alert("No se pudieron cargar las actividades. Por favor, intente m\xe1s tarde.")}})()},[]);let S=async e=>{e.preventDefault();try{let e={name:A,date:g,reservationDate:f,details:C,type:_};i?(await y(i.id,e),alert("Actividad actualizada con \xe9xito")):(await p(e),alert("Actividad creada con \xe9xito"));let a=await m();t(a),B()}catch(e){console.error("Error submitting activity:",e),alert("Error al enviar la actividad")}},B=()=>{x(""),b(""),w(""),E(""),k(""),h(null)},D=e=>{h(e),x(e.name),b(e.reservationDate),w(e.reservationDate),E(e.description),k(e.type)},N=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas eliminar esta actividad?"))try{await j(e),alert("Actividad eliminada con \xe9xito");let i=await m();t(i)}catch(e){console.error("Error deleting activity:",e),alert("Error eliminando la actividad")}};return(0,a.jsxs)(n.Ay,{container:!0,spacing:4,padding:4,children:[(0,a.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,a.jsx)(l.A,{children:(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:i?"Editar Actividad":"Crear Actividad"}),(0,a.jsxs)("form",{onSubmit:S,children:[(0,a.jsx)(c.A,{marginBottom:2,children:(0,a.jsx)(o.A,{fullWidth:!0,label:"Nombre",variant:"outlined",value:A,onChange:e=>x(e.target.value)})}),(0,a.jsx)(c.A,{marginBottom:2,children:(0,a.jsx)(o.A,{fullWidth:!0,label:"Fecha",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},value:g,onChange:e=>b(e.target.value)})}),(0,a.jsx)(c.A,{marginBottom:2,children:(0,a.jsx)(o.A,{fullWidth:!0,label:"Hora",type:"reservationDate",variant:"outlined",InputLabelProps:{shrink:!0},value:f,onChange:e=>w(e.target.value)})}),(0,a.jsx)(c.A,{marginBottom:2,children:(0,a.jsx)(o.A,{fullWidth:!0,label:"Tipo de Actividad",select:!0,variant:"outlined",value:_,onChange:e=>k(e.target.value),children:e.map(e=>(0,a.jsx)(u.A,{value:e.type,children:e.type},e.id))})}),(0,a.jsx)(c.A,{marginBottom:2,children:(0,a.jsx)(o.A,{fullWidth:!0,label:"Detalles",multiline:!0,rows:4,variant:"outlined",value:C,onChange:e=>E(e.target.value)})}),(0,a.jsx)(v.A,{variant:"contained",color:"primary",type:"submit",children:i?"Actualizar Actividad":"Crear Actividad"}),i&&(0,a.jsx)(v.A,{variant:"outlined",color:"secondary",onClick:B,sx:{marginLeft:2},children:"Cancelar"})]})]})})}),(0,a.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,a.jsx)(l.A,{children:(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"h5",gutterBottom:!0,children:"Actividades Disponibles"}),(0,a.jsx)(n.Ay,{container:!0,spacing:2,children:e.map(e=>(0,a.jsx)(n.Ay,{item:!0,xs:12,sm:6,children:(0,a.jsx)(l.A,{onClick:()=>D(e),sx:{cursor:"pointer",border:(null==i?void 0:i.id)===e.id?"2px solid #1976d2":"1px solid #e0e0e0",backgroundColor:(null==i?void 0:i.id)===e.id?"#e3f2fd":"white"},children:(0,a.jsxs)(s.A,{children:[(0,a.jsx)(d.A,{variant:"body1",fontWeight:"bold",children:e.name}),(0,a.jsx)(d.A,{variant:"body2",children:e.reservationDate}),(0,a.jsx)(c.A,{marginTop:2,children:(0,a.jsx)(v.A,{onClick:()=>N(e.id),color:"error",variant:"contained",size:"small",children:"Eliminar"})})]})})},e.id))})]})})})]})};i(7675);let b=()=>(0,a.jsx)("div",{children:(0,a.jsx)(g,{})})},7675:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[534,636,593,792],()=>t(2022)),_N_E=e.O()}]);